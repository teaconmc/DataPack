{"inkVersion":21,"root":[["\n","ev",{"VAR?":"npc_delivery_state_id"},{"x()":"hasVariable","exArgs":1},"/ev",{"temp=":"has_delivery_state"},"\n","ev",{"VAR?":"has_delivery_state"},false,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"npc_delivery_state_id"},0,{"x()":"setVariable","exArgs":2},"pop","/ev","\n",{"->":"0.13"},null]}],"nop","\n","ev",{"VAR?":"npc_delivery_state_id"},{"x()":"getVariable","exArgs":1},"/ev",{"temp=":"delivery_state"},"\n","ev",{"VAR?":"npc_delivery_objective_id"},{"x()":"hasVariable","exArgs":1},"/ev",{"temp=":"has_npc_delivery_objective_id"},"\n","ev",{"VAR?":"has_npc_delivery_objective_id"},false,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"npc_delivery_objective_id"},0,{"x()":"setVariable","exArgs":2},"pop","/ev","\n",{"->":"0.33"},null]}],"nop","\n","ev",{"VAR?":"npc_delivery_objective_id"},{"x()":"getVariable","exArgs":1},"/ev",{"temp=":"current_delivery_target"},"\n","^【与酒店前台的对话开始】","\n","ev",{"VAR?":"delivery_state"},"/ev",["du","ev",0,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n",{"->":"request"},{"->":"0.49"},null]}],["du","ev",1,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n",{"->":"in_progress"},{"->":"0.49"},null]}],[{"->":".^.b"},{"b":["pop","\n",{"->":"default"},{"->":"0.49"},null]}],"nop","\n",["done",{"#f":5,"#n":"g-0"}],null],"done",{"request":[["ev","str","^ashihara:mochi","/str",1,"str","^components","/str","str","^$<$qminecraft:lore$q: [$d$<$qcolor$q:$qblue$q,$qitalic$q:false,$qtext$q:$q姬川岛$q$>$d]$>","/str",{"x()":"hasItem","exArgs":4},"/ev",{"temp=":"has_mochi"},"\n","^酒店前台：有客人点了外卖，可以帮忙送过来吗？","\n","^&o（循环任务，接受需要消耗一个“麻糬”）","\n","ev","str","^接受外卖任务","/str",{"VAR?":"has_mochi"},"/ev",{"*":".^.c-0","flg":21},"ev","str","^拒绝外卖任务","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["\n",{"->":"accepted"},{"#f":5}],"c-1":["\n","^酒店前台：现在没时间吗？","\n","end",{"#f":5}]}],{"#f":1}],"accepted":["ev","str","^ashihara:mochi","/str",1,"str","^components","/str","str","^$<$qminecraft:lore$q: [$d$<$qcolor$q:$qblue$q,$qitalic$q:false,$qtext$q:$q姬川岛$q$>$d]$>","/str",{"x()":"takeItem","exArgs":4},"pop","/ev","\n","ev",1,5,"rnd","/ev",{"temp=":"objective"},"\n","ev",{"VAR?":"npc_delivery_objective_id"},{"VAR?":"objective"},{"x()":"setVariable","exArgs":2},"pop","/ev","\n","ev",{"VAR?":"npc_delivery_state_id"},1,{"x()":"setVariable","exArgs":2},"pop","/ev","\n","^酒店前台：好的，请尽快送一份[","ev",{"VAR?":"objective"},{"f()":"getFoodName"},"out","/ev","^]来。","\n","end",{"#f":1}],"in_progress":[["ev",{"VAR?":"npc_delivery_objective_id"},{"x()":"getVariable","exArgs":1},"/ev",{"temp=":"objective"},"\n","ev",{"VAR?":"objective"},{"f()":"getObjectiveOp1"},1,"str","^","/str","str","^","/str",{"x()":"hasItem","exArgs":4},"/ev",{"temp=":"has_item_op1"},"\n","ev",{"VAR?":"objective"},{"f()":"getObjectiveOp2"},1,"str","^","/str","str","^","/str",{"x()":"hasItem","exArgs":4},"/ev",{"temp=":"has_item_op2"},"\n","^酒店前台：我们需要的[","ev",{"VAR?":"objective"},{"f()":"getFoodName"},"out","/ev","^]送到了吗？","\n",["ev",{"^->":"in_progress.0.42.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str",{"VAR?":"has_item_op1"},{"VAR?":"has_item_op2"},"||","/ev",{"*":".^.^.c-0","flg":19},{"s":["^在这里。",{"->":"$r","var":true},null]}],["ev",{"^->":"in_progress.0.43.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^还没好。",{"->":"$r","var":true},null]}],["ev",{"^->":"in_progress.0.44.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-2","flg":18},{"s":["^不想做了。",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"in_progress.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.42.s"},[{"#n":"$r2"}],"\n","ev",{"VAR?":"has_item_op2"},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"objective"},{"f()":"getObjectiveOp2"},1,"str","^","/str","str","^","/str",{"x()":"takeItem","exArgs":4},"pop","/ev","\n",{"->":".^.^.^.12"},null]}],[{"->":".^.b"},{"b":["\n","ev",{"VAR?":"objective"},{"f()":"getObjectiveOp1"},1,"str","^","/str","str","^","/str",{"x()":"takeItem","exArgs":4},"pop","/ev","\n",{"->":".^.^.^.12"},null]}],"nop","\n",{"->":"completion"},{"#f":5}],"c-1":["ev",{"^->":"in_progress.0.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.43.s"},[{"#n":"$r2"}],"\n","^酒店前台：还没好吗？","\n","end",{"#f":5}],"c-2":["ev",{"^->":"in_progress.0.c-2.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.44.s"},[{"#n":"$r2"}],"\n","ev",{"VAR?":"npc_delivery_state_id"},0,{"x()":"setVariable","exArgs":2},"pop","/ev","\n","ev",{"VAR?":"npc_delivery_objective_id"},0,{"x()":"setVariable","exArgs":2},"pop","/ev","\n","^酒店前台：这样吗，有时间了欢迎再来帮忙。","\n","end",{"#f":5}]}],{"#f":1}],"completion":["ev",{"VAR?":"npc_delivery_objective_id"},{"x()":"getVariable","exArgs":1},"/ev",{"temp=":"objective"},"\n","ev",{"VAR?":"npc_delivery_state_id"},0,{"x()":"setVariable","exArgs":2},"pop","/ev","\n","ev","str","^locusazzurro_icaruswings:blue_topaz_gem","/str",{"VAR?":"objective"},{"f()":"getReward"},"str","^components","/str","str","^$<$qminecraft:lore$q: [$d$<$qcolor$q:$qblue$q,$qitalic$q:false,$qtext$q:$q姬川岛$q$>$d]$>","/str",{"x()":"giveItem","exArgs":4},"pop","/ev","\n","ev",{"VAR?":"npc_delivery_objective_id"},0,{"x()":"setVariable","exArgs":2},"pop","/ev","\n","^酒店前台：非常感谢，这是你的报酬。","\n","end",{"#f":1}],"default":["end",{"#f":1}],"getObjectiveOp1":[{"temp=":"n"},"ev",{"VAR?":"n"},"/ev",["du","ev",1,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"food1_op1"},"/ev","~ret",{"->":".^.^.^.10"},null]}],["du","ev",2,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"food2_op1"},"/ev","~ret",{"->":".^.^.^.10"},null]}],["du","ev",3,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"food3_op1"},"/ev","~ret",{"->":".^.^.^.10"},null]}],["du","ev",4,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"food4_op1"},"/ev","~ret",{"->":".^.^.^.10"},null]}],["du","ev",5,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"food5_op1"},"/ev","~ret",{"->":".^.^.^.10"},null]}],[{"->":".^.b"},{"b":["pop","\n","^default ~ return food1_op1","\n",{"->":".^.^.^.10"},null]}],"nop","\n",{"#f":1}],"getObjectiveOp2":[{"temp=":"n"},"ev",{"VAR?":"n"},"/ev",["du","ev",1,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"food1_op2"},"/ev","~ret",{"->":".^.^.^.10"},null]}],["du","ev",2,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"food2_op2"},"/ev","~ret",{"->":".^.^.^.10"},null]}],["du","ev",3,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"food3_op2"},"/ev","~ret",{"->":".^.^.^.10"},null]}],["du","ev",4,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"food4_op2"},"/ev","~ret",{"->":".^.^.^.10"},null]}],["du","ev",5,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"food5_op2"},"/ev","~ret",{"->":".^.^.^.10"},null]}],[{"->":".^.b"},{"b":["pop","\n","^default ~ return food1_op2","\n",{"->":".^.^.^.10"},null]}],"nop","\n",{"#f":1}],"getFoodName":[{"temp=":"n"},"ev",{"VAR?":"n"},"/ev",["du","ev",1,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"food1_name"},"/ev","~ret",{"->":".^.^.^.10"},null]}],["du","ev",2,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"food2_name"},"/ev","~ret",{"->":".^.^.^.10"},null]}],["du","ev",3,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"food3_name"},"/ev","~ret",{"->":".^.^.^.10"},null]}],["du","ev",4,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"food4_name"},"/ev","~ret",{"->":".^.^.^.10"},null]}],["du","ev",5,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"food5_name"},"/ev","~ret",{"->":".^.^.^.10"},null]}],[{"->":".^.b"},{"b":["pop","\n","^default ~ return food1_name","\n",{"->":".^.^.^.10"},null]}],"nop","\n",{"#f":1}],"getReward":[{"temp=":"n"},"ev",{"VAR?":"n"},"/ev",["du","ev",1,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"food1_reward"},"/ev","~ret",{"->":".^.^.^.10"},null]}],["du","ev",2,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"food2_reward"},"/ev","~ret",{"->":".^.^.^.10"},null]}],["du","ev",3,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"food3_reward"},"/ev","~ret",{"->":".^.^.^.10"},null]}],["du","ev",4,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"food4_reward"},"/ev","~ret",{"->":".^.^.^.10"},null]}],["du","ev",5,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"food5_reward"},"/ev","~ret",{"->":".^.^.^.10"},null]}],[{"->":".^.b"},{"b":["pop","\n","^default ~ return 2","\n",{"->":".^.^.^.10"},null]}],"nop","\n",{"#f":1}],"isDebug":["ev",true,"/ev","~ret",{"#f":1}],"isInFlow":[{"temp=":"name"},"ev",true,"/ev","~ret",{"#f":1}],"isInDefaultFlow":["ev",true,"/ev","~ret",{"#f":1}],"flowTo":[{"temp=":"name"},"ev",true,"/ev","~ret",{"#f":1}],"flowToDefault":["ev",true,"/ev","~ret",{"#f":1}],"newFlow":[{"temp=":"flow"},{"temp=":"name"},"ev",true,"/ev","~ret",{"#f":1}],"removeFlow":[{"temp=":"name"},"ev",true,"/ev","~ret",{"#f":1}],"isEnded":["ev",false,"/ev","~ret",{"#f":1}],"pause":["ev",true,"/ev","~ret",{"#f":1}],"setLineTicks":[{"temp=":"ticks"},"ev",true,"/ev","~ret",{"#f":1}],"unsetLineTicks":["ev",true,"/ev","~ret",{"#f":1}],"hasVariable":[{"temp=":"name"},"ev",true,"/ev","~ret",{"#f":1}],"getVariable":[{"temp=":"name"},"ev",true,"/ev","~ret",{"#f":1}],"setVariable":[{"temp=":"value"},{"temp=":"name"},"ev",true,"/ev","~ret",{"#f":1}],"unsetVariable":[{"temp=":"name"},"ev",true,"/ev","~ret",{"#f":1}],"clearVariables":["ev",true,"/ev","~ret",{"#f":1}],"logDebug":[{"temp=":"message"},"ev",true,"/ev","~ret",{"#f":1}],"logInfo":[{"temp=":"message"},"ev",true,"/ev","~ret",{"#f":1}],"logWarn":[{"temp=":"message"},"ev",true,"/ev","~ret",{"#f":1}],"logError":[{"temp=":"message"},"ev",true,"/ev","~ret",{"#f":1}],"getPlayerName":["ev","str","^PlayerName","/str","/ev","~ret",{"#f":1}],"runCommand":[{"temp=":"command"},"ev",1,"/ev","~ret",{"#f":1}],"runUnlimitedCommand":[{"temp=":"command"},"ev",1,"/ev","~ret",{"#f":1}],"runServerCommand":[{"temp=":"command"},"ev",1,"/ev","~ret",{"#f":1}],"global decl":["ev","str","^mystia_izakaya:fresh_tofu","/str",{"VAR=":"food1_op1"},"str","^mystias_izakaya:leng_dou_fu","/str",{"VAR=":"food1_op2"},"str","^冷豆腐","/str",{"VAR=":"food1_name"},5,{"VAR=":"food1_reward"},"str","^mystia_izakaya:power_soup","/str",{"VAR=":"food2_op1"},"str","^mystias_izakaya:li_liang_tang","/str",{"VAR=":"food2_op2"},"str","^力量汤","/str",{"VAR=":"food2_name"},7,{"VAR=":"food2_reward"},"str","^mystia_izakaya:niten_ichiryu","/str",{"VAR=":"food3_op1"},"str","^mystias_izakaya:er_tian_liu","/str",{"VAR=":"food3_op2"},"str","^二天一流","/str",{"VAR=":"food3_name"},9,{"VAR=":"food3_reward"},"str","^mystia_izakaya:all_meat_feast","/str",{"VAR=":"food4_op1"},"str","^mystias_izakaya:quan_rou_sheng_yan","/str",{"VAR=":"food4_op2"},"str","^全肉盛宴","/str",{"VAR=":"food4_name"},15,{"VAR=":"food4_reward"},"str","^mystia_izakaya:hunters_casserole","/str",{"VAR=":"food5_op1"},"str","^mystias_izakaya:ye_wei_jia_nong","/str",{"VAR=":"food5_op2"},"str","^野味加农","/str",{"VAR=":"food5_name"},12,{"VAR=":"food5_reward"},"str","^repeatable_delivery_state_npc_1","/str",{"VAR=":"npc_delivery_state_id"},"str","^delivery_objective_npc_1","/str",{"VAR=":"npc_delivery_objective_id"},"/ev","end",null],"#f":1}],"listDefs":{}}