{"inkVersion":21,"root":[["\n","\n","ev","str","^yyyyMMdd","/str",{"x()":"getRealTime","exArgs":1},"/ev",{"temp=":"current_day"},"\n","ev","str","^last_maimai_stamp_date","/str",{"x()":"hasVariable","exArgs":1},"/ev",{"temp=":"has_last_maimai_stamp_date"},"\n","ev",{"VAR?":"has_last_maimai_stamp_date"},false,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^last_maimai_stamp_date","/str",0,{"x()":"setVariable","exArgs":2},"pop","/ev","\n",{"->":"0.24"},null]}],"nop","\n","ev","str","^maimai_stamp_total","/str",{"x()":"hasVariable","exArgs":1},"/ev",{"temp=":"has_maimai_stamp_total"},"\n","ev",{"VAR?":"has_maimai_stamp_total"},false,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^maimai_stamp_total","/str",0,{"x()":"setVariable","exArgs":2},"pop","/ev","\n",{"->":"0.40"},null]}],"nop","\n","ev","str","^maimai_rating","/str",{"x()":"hasVariable","exArgs":1},"/ev",{"temp=":"has_maimai_rating"},"\n","ev",{"VAR?":"has_maimai_rating"},false,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^maimai_rating","/str",0,{"x()":"setVariable","exArgs":2},"pop","/ev","\n",{"->":"0.56"},null]}],"nop","\n","ev","str","^last_maimai_stamp_date","/str",{"x()":"getVariable","exArgs":1},"/ev",{"temp=":"last_maimai_stamp_date"},"\n","ev","str","^maimai_stamp_total","/str",{"x()":"getVariable","exArgs":1},"/ev",{"temp=":"maimai_stamp_total"},"\n","ev","str","^maimai_rating","/str",{"x()":"getVariable","exArgs":1},"/ev",{"temp=":"maimai_rating"},"\n","^这里有一台舞萌DX，要出勤吗？","\n","ev","str","^投币（4币）","/str","/ev",{"*":"0.c-0","flg":20},"ev","str","^离开","/str","/ev",{"*":"0.c-1","flg":20},{"c-0":["\n",{"->":"play"},{"->":"0.g-0"},{"#f":5}],"c-1":["\n","end",{"->":"0.g-0"},{"#f":5}],"g-0":["done",{"#f":5}]}],"done",{"play":["ev","str","^minecraft:iron_nugget","/str",4,"str","^components","/str","str","^$<$qminecraft:item_name$q: $d$<$qitalic$q:false,$qtext$q:$q代币$q$>$d, $qminecraft:lore$q: [$d$<$qcolor$q:$qblue$q,$qitalic$q:false,$qtext$q:$q姬川岛$q$>$d]$>","/str",{"x()":"hasItem","exArgs":4},"/ev",{"temp=":"has_coins"},"\n","ev",{"VAR?":"has_coins"},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^minecraft:iron_nugget","/str",4,"str","^components","/str","str","^$<$qminecraft:item_name$q: $d$<$qitalic$q:false,$qtext$q:$q代币$q$>$d, $qminecraft:lore$q: [$d$<$qcolor$q:$qblue$q,$qitalic$q:false,$qtext$q:$q姬川岛$q$>$d]$>","/str",{"x()":"takeItem","exArgs":4},"pop","/ev","\n","^欢迎回来！","\n",{"->":"try_stamp"},{"->":"play.20"},null]}],[{"->":".^.b"},{"b":["\n","^&o你想投币，但是发现身上没有币了。","\n","end",{"->":"play.20"},null]}],"nop","\n",{"#f":1}],"try_stamp":["ev",{"VAR?":"current_day"},{"VAR?":"last_maimai_stamp_date"},"!=","/ev",[{"->":".^.b","c":true},{"b":["\n",{"->":"stamp"},{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["\n",{"->":"already_stamped"},{"->":".^.^.^.7"},null]}],"nop","\n",{"#f":1}],"stamp":["^今日签到成功！","\n","ev","str","^last_maimai_stamp_date","/str",{"VAR?":"current_day"},{"x()":"setVariable","exArgs":2},"pop","/ev","\n","ev",{"VAR?":"maimai_stamp_total"},1,"+",{"VAR=":"maimai_stamp_total","re":true},"/ev","ev","str","^maimai_stamp_total","/str",{"VAR?":"maimai_stamp_total"},{"x()":"setVariable","exArgs":2},"pop","/ev","\n","ev",{"VAR?":"maimai_stamp_total"},{"f()":"print_card"},"pop","/ev","\n","ev","str","^crockpot:milk_bottle","/str",1,"str","^components","/str","str","^$<$qminecraft:lore$q: [$d$<$qcolor$q:$qblue$q,$qitalic$q:false,$qtext$q:$q姬川岛收集品$q$>$d]$>","/str",{"x()":"giveItem","exArgs":4},"pop","/ev","\n","ev",{"VAR?":"maimai_stamp_total"},10,">=","/ev",[{"->":".^.b","c":true},{"b":["\n","^集章卡完成！获得奖励！","\n","ev","str","^crockpot:milkmade_hat","/str",1,"str","^components","/str","str","^$<$qminecraft:lore$q: [$d$<$qcolor$q:$qblue$q,$qitalic$q:false,$qtext$q:$q姬川岛收集品$q$>$d]$>","/str",{"x()":"giveItem","exArgs":4},"pop","/ev","\n","^试着再次完成一张集章卡吧！","\n","ev",0,"/ev",{"VAR=":"maimai_stamp_total","re":true},"ev","str","^maimai_stamp_total","/str",{"VAR?":"maimai_stamp_total"},{"x()":"setVariable","exArgs":2},"pop","/ev","\n","ev",{"VAR?":"maimai_stamp_total"},{"f()":"print_card"},"pop","/ev","\n",{"->":"stamp.53"},null]}],"nop","\n",{"->":"rating_increase"},{"#f":1}],"already_stamped":["^你今天已经签过到了。","\n","ev",{"VAR?":"maimai_stamp_total"},{"f()":"print_card"},"pop","/ev","\n",{"->":"rating_increase"},{"#f":1}],"rating_increase":[["^🎵🎵🎵🎵🎵🎵🎵🎵🎵🎵🎵","\n","ev","str","^maimai_rating","/str",{"x()":"getVariable","exArgs":1},"/ev",{"temp=":"current_maimai_rating"},"\n","ev",{"VAR?":"current_maimai_rating"},{"f()":"random_rating_increase"},"/ev",{"temp=":"increase"},"\n","ev",{"VAR?":"current_maimai_rating"},{"VAR?":"increase"},"+","/ev",{"temp=":"new_rating"},"ev",{"VAR?":"new_rating"},{"f()":"rating_color"},"pop","/ev","\n","^&6","ev",{"VAR?":"new_rating"},"out","/ev","^ &e(+ ","ev",{"VAR?":"increase"},"out","/ev","^)","\n","ev","str","^maimai_rating","/str",{"VAR?":"new_rating"},{"x()":"setVariable","exArgs":2},"pop","/ev","\n","^要继续游玩吗？","\n","ev","str","^继续（4币）","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^离开","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["\n",{"->":"continue_playing"},{"#f":5}],"c-1":["\n","^再见~","\n","end",{"#f":5}]}],{"#f":1}],"continue_playing":["ev","str","^minecraft:iron_nugget","/str",4,"str","^components","/str","str","^$<$qminecraft:item_name$q: $d$<$qitalic$q:false,$qtext$q:$q代币$q$>$d, $qminecraft:lore$q: [$d$<$qcolor$q:$qblue$q,$qitalic$q:false,$qtext$q:$q姬川岛$q$>$d]$>","/str",{"x()":"hasItem","exArgs":4},"/ev",{"temp=":"has_coins"},"\n","ev",{"VAR?":"has_coins"},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^minecraft:iron_nugget","/str",4,"str","^components","/str","str","^$<$qminecraft:item_name$q: $d$<$qitalic$q:false,$qtext$q:$q代币$q$>$d, $qminecraft:lore$q: [$d$<$qcolor$q:$qblue$q,$qitalic$q:false,$qtext$q:$q姬川岛$q$>$d]$>","/str",{"x()":"takeItem","exArgs":4},"pop","/ev","\n",{"->":"rating_increase"},{"->":".^.^.^.20"},null]}],[{"->":".^.b"},{"b":["\n","^&o你没有代币了。","\n","end",{"->":".^.^.^.20"},null]}],"nop","\n",{"#f":1}],"print_card":[{"temp=":"stamps"},"ev",1,{"x()":"setLineTicks","exArgs":1},"pop","/ev","\n","^⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜","\n","ev",5,{"VAR?":"stamps"},{"f()":"min"},5,{"f()":"print_stamp_line"},"pop","/ev","\n","^⬜","\n","ev",5,{"VAR?":"stamps"},5,"-",{"f()":"min"},5,{"f()":"print_stamp_line"},"pop","/ev","\n","^⬜","\n","^⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜","\n","ev",{"x()":"unsetLineTicks"},"pop","/ev","\n",{"#f":1}],"print_stamp_line":[{"temp=":"slots_left"},{"temp=":"stamps"},"ev",{"VAR?":"slots_left"},0,">","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"stamps"},0,">","/ev",[{"->":".^.b","c":true},{"b":["\n","^⬜💠","<>","\n",{"->":".^.^.^.8"},null]}],[{"->":".^.b"},{"b":["\n","^⬜◻️","<>","\n",{"->":".^.^.^.8"},null]}],"nop","\n","ev",{"VAR?":"slots_left"},1,"-",{"temp=":"slots_left","re":true},"/ev","ev",{"VAR?":"stamps"},1,"-",{"temp=":"stamps","re":true},"/ev","ev",{"VAR?":"stamps"},{"VAR?":"slots_left"},{"f()":".^.^.^"},"pop","/ev","\n",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["\n","ev","void","/ev","~ret",{"->":".^.^.^.9"},null]}],"nop","\n",{"#f":1}],"rating_color":[{"temp=":"rating"},["ev",{"VAR?":"rating"},15000,">=","/ev",{"->":".^.b","c":true},{"b":["\n","^&$ff0000D&$ffa500X &$ffff00Ra&$008000ti&$0000ffng: &r","<>","\n",{"->":".^.^.^.12"},null]}],["ev",{"VAR?":"rating"},14500,">=","/ev",{"->":".^.b","c":true},{"b":["\n","^&$f7e47aDX &$fef493Rating: &r","<>","\n",{"->":".^.^.^.12"},null]}],["ev",{"VAR?":"rating"},14000,">=","/ev",{"->":".^.b","c":true},{"b":["\n","^&$d28e38DX &$ffe64aRating: &r","<>","\n",{"->":".^.^.^.12"},null]}],["ev",{"VAR?":"rating"},13000,">=","/ev",{"->":".^.b","c":true},{"b":["\n","^&$7ca1c2DX &$dde2f0Rating: &r","<>","\n",{"->":".^.^.^.12"},null]}],["ev",{"VAR?":"rating"},12000,">=","/ev",{"->":".^.b","c":true},{"b":["\n","^&$73392bDX &$ef8e59Rating: &r","<>","\n",{"->":".^.^.^.12"},null]}],["ev",{"VAR?":"rating"},10000,">=","/ev",{"->":".^.b","c":true},{"b":["\n","^&$d4a3ffDX Rating: &r","<>","\n",{"->":".^.^.^.12"},null]}],["ev",{"VAR?":"rating"},7000,">=","/ev",{"->":".^.b","c":true},{"b":["\n","^&$f79a95DX Rating: &r","<>","\n",{"->":".^.^.^.12"},null]}],["ev",{"VAR?":"rating"},4000,">=","/ev",{"->":".^.b","c":true},{"b":["\n","^&$fef373DX Rating: &r","<>","\n",{"->":".^.^.^.12"},null]}],["ev",{"VAR?":"rating"},2000,">=","/ev",{"->":".^.b","c":true},{"b":["\n","^&$bcff8cDX Rating: &r","<>","\n",{"->":".^.^.^.12"},null]}],["ev",{"VAR?":"rating"},1000,">=","/ev",{"->":".^.b","c":true},{"b":["\n","^&$9de2ffDX Rating: &r","<>","\n",{"->":".^.^.^.12"},null]}],[{"->":".^.b"},{"b":["\n","^&$ffffffDX Rating: &r","<>","\n",{"->":".^.^.^.12"},null]}],"nop","\n",{"#f":1}],"random_rating_increase":[{"temp=":"rating"},"ev",0,"/ev",{"temp=":"increase"},["ev",{"VAR?":"rating"},15000,">=","/ev",{"->":".^.b","c":true},{"b":["\n","ev",0,4,"rnd","/ev",{"temp=":"increase","re":true},"\n",{"->":".^.^.^.16"},null]}],["ev",{"VAR?":"rating"},14500,">=","/ev",{"->":".^.b","c":true},{"b":["\n","ev",0,8,"rnd","/ev",{"temp=":"increase","re":true},"\n",{"->":".^.^.^.16"},null]}],["ev",{"VAR?":"rating"},14000,">=","/ev",{"->":".^.b","c":true},{"b":["\n","ev",4,8,"rnd","/ev",{"temp=":"increase","re":true},"\n",{"->":".^.^.^.16"},null]}],["ev",{"VAR?":"rating"},13000,">=","/ev",{"->":".^.b","c":true},{"b":["\n","ev",10,20,"rnd","/ev",{"temp=":"increase","re":true},"\n",{"->":".^.^.^.16"},null]}],["ev",{"VAR?":"rating"},12000,">=","/ev",{"->":".^.b","c":true},{"b":["\n","ev",15,25,"rnd","/ev",{"temp=":"increase","re":true},"\n",{"->":".^.^.^.16"},null]}],["ev",{"VAR?":"rating"},10000,">=","/ev",{"->":".^.b","c":true},{"b":["\n","ev",40,60,"rnd","/ev",{"temp=":"increase","re":true},"\n",{"->":".^.^.^.16"},null]}],["ev",{"VAR?":"rating"},7000,">=","/ev",{"->":".^.b","c":true},{"b":["\n","ev",80,120,"rnd","/ev",{"temp=":"increase","re":true},"\n",{"->":".^.^.^.16"},null]}],["ev",{"VAR?":"rating"},4000,">=","/ev",{"->":".^.b","c":true},{"b":["\n","ev",150,250,"rnd","/ev",{"temp=":"increase","re":true},"\n",{"->":".^.^.^.16"},null]}],["ev",{"VAR?":"rating"},2000,">=","/ev",{"->":".^.b","c":true},{"b":["\n","ev",200,400,"rnd","/ev",{"temp=":"increase","re":true},"\n",{"->":".^.^.^.16"},null]}],["ev",{"VAR?":"rating"},1000,">=","/ev",{"->":".^.b","c":true},{"b":["\n","ev",300,500,"rnd","/ev",{"temp=":"increase","re":true},"\n",{"->":".^.^.^.16"},null]}],[{"->":".^.b"},{"b":["\n","ev",300,700,"rnd","/ev",{"temp=":"increase","re":true},"\n",{"->":".^.^.^.16"},null]}],"nop","\n","ev",{"VAR?":"increase"},"/ev","~ret",{"#f":1}],"exchangeItem":[{"temp=":"giveNbtValue"},{"temp=":"giveNbtPath"},{"temp=":"giveCount"},{"temp=":"giveItemId"},{"temp=":"takeNbtValue"},{"temp=":"takeNbtPath"},{"temp=":"takeCount"},{"temp=":"takeItemId"},"ev",{"VAR?":"takeItemId"},{"VAR?":"takeCount"},{"VAR?":"takeNbtPath"},{"VAR?":"takeNbtValue"},{"x()":"hasItem","exArgs":4},"/ev",{"temp=":"has"},"\n","ev",{"VAR?":"has"},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"takeItemId"},{"VAR?":"takeCount"},{"VAR?":"takeNbtPath"},{"VAR?":"takeNbtValue"},{"x()":"takeItem","exArgs":4},"/ev",{"temp=":"took"},"\n","ev",{"VAR?":"took"},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"giveItemId"},{"VAR?":"giveCount"},{"VAR?":"giveNbtPath"},{"VAR?":"giveNbtValue"},{"x()":"giveItem","exArgs":4},"/ev","~ret","\n",{"->":".^.^.^.14"},null]}],"nop","\n",{"->":".^.^.^.21"},null]}],"nop","\n","ev",false,"/ev","~ret",{"#f":1}],"max":[{"temp=":"b"},{"temp=":"a"},"ev",{"VAR?":"a"},{"VAR?":"b"},">=","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"a"},"/ev","~ret",{"->":"max.9"},null]}],[{"->":".^.b"},{"b":["\n","ev",{"VAR?":"b"},"/ev","~ret",{"->":"max.9"},null]}],"nop","\n",{"#f":1}],"min":[{"temp=":"b"},{"temp=":"a"},"ev",{"VAR?":"a"},{"VAR?":"b"},"<=","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"a"},"/ev","~ret",{"->":"min.9"},null]}],[{"->":".^.b"},{"b":["\n","ev",{"VAR?":"b"},"/ev","~ret",{"->":"min.9"},null]}],"nop","\n",{"#f":1}],"global decl":["ev","/ev","end",null],"#f":1}],"listDefs":{}}